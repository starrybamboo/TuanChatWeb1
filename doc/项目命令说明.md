# TuanChatWeb 项目命令说明文档

本文档详细解释了项目中 `package.json` 文件中定义的各个命令的功能和用途，帮助开发人员理解如何构建、开发和部署项目。

## 开发命令

### `dev`

```bash
vite --open
```

**功能说明**：启动开发服务器并自动在浏览器中打开应用。

**使用场景**：日常前端开发时使用，提供热更新功能，修改代码后自动刷新页面。

**执行方式**：
```bash
yarn dev
```

### `dev:prod`

```bash
vite --open --mode production
```

**功能说明**：以生产模式启动开发服务器，并自动在浏览器中打开应用。

**使用场景**：在开发环境中模拟生产环境的配置和行为，用于测试应用在生产环境中的表现。

**执行方式**：
```bash
yarn dev:prod
```

## 构建命令

### `build`

```bash
vue-tsc -b && vite build
```

**功能说明**：先运行 TypeScript 类型检查，然后构建生产版本的应用。

**使用场景**：准备将应用部署到生产环境前使用，生成优化后的静态文件。

**执行方式**：
```bash
yarn build
```

### `preview`

```bash
vite preview
```

**功能说明**：在本地预览构建后的生产版本。

**使用场景**：在部署到生产环境之前，本地验证构建结果是否符合预期。

**执行方式**：
```bash
yarn preview
```

## API 相关命令

### `openapi`

```bash
openapi --input ./public/tuanchat_OpenAPI.json --output ./src/api --client axios --name TuanChat
```

**功能说明**：根据 OpenAPI 规范文件生成 TypeScript API 客户端代码。

**使用场景**：当后端 API 发生变化时，更新前端的 API 调用代码，确保类型安全和接口一致性。

**执行方式**：
```bash
yarn openapi
```

## Electron 相关命令

### `electron:dev`

```bash
electron .
```

**功能说明**：启动 Electron 应用的开发环境。

**使用场景**：开发桌面应用版本时使用，可以实时查看应用在桌面环境中的表现。

**执行方式**：
```bash
yarn electron:dev
```

### `electron:build`

```bash
vite build & electron-builder build --config electron-builder.json
```

**功能说明**：构建 Web 应用，然后使用 electron-builder 打包成桌面应用安装包。

**使用场景**：准备发布桌面应用版本时使用，生成可分发的安装包。

**执行方式**：
```bash
yarn electron:build
```

## 注意事项

1. 在运行 `electron:dev` 和 `electron:build` 命令前，确保已安装所有必要的依赖。
2. `dev:prod` 命令使用的是生产环境的配置，但仍然在开发服务器上运行，主要用于测试。
3. 使用 `openapi` 命令前，确保 `./public/tuanchat_OpenAPI.json` 文件存在且内容正确。
4. 构建桌面应用时，配置信息在 `electron-builder.json` 文件中定义。